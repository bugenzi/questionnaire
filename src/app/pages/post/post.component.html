<div class="flex flex-col justify-center container mx-auto px-4">
    <div class="w-1/12 flex flex-col text-center pt-2"></div>
    <div class="w-11/12 pt-2">
        <div class="flex items-center text-xs mb-2">
            <a class="font-semibold no-underline hover:underline text-black flex items-center"> </a>
            <span class="text-grey-light mx-1 text-xxs">â€¢</span>
            <span class="text-base text-gray-700">Posted by</span>
            <a href="#" class="text-green-400 text-base mx-1 no-underline hover:underline">{{ post.username }}
            </a>
        </div>
        <div>
            <h2 class="text-lg text-green-800 font-medium mb-1">{{ post.title }}</h2>
            <h3 class="font-medium mb-1">
                {{ post.desc }}
            </h3>

        </div>
        <div class="inline-flex items-center my-1">
            <div class="flex hover:bg-green-lighter p-1">
                <svg class="w-4 fill-current text-grey" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                    <path
                        d="M10 15l-4 4v-4H2a2 2 0 0 1-2-2V3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-8zM5 7v2h2V7H5zm4 0v2h2V7H9zm4 0v2h2V7h-2z">
                    </path>
                </svg>
                <span class="ml-2 text-green-400 text-xs font-semibold text-grey">{{ post.comments }} Comments</span>
            </div>
        </div>
    </div>

    <div *ngIf="user !== null" class="w-screen/2 bg-white p-2 pt-4 rounded shadow-lg">
        <div class="flex ml-3 items-center">


            <div class="
                        m-1
                        mr-2
                        w-12
                        h-12
                        relative
                        flex
                        justify-center
                        items-center
                        rounded-full
                        bg-gray-500
                        text-xl text-white
                        uppercase
                    ">
                {{ user.username[0] }}
            </div>
            <span class="text-green-600 text-base">
                {{ user.username }}
            </span>

        </div>
        <form [formGroup]="commentForm" (submit)="postComment()">
            <div class="mt-3 p-3 w-full">

                <textarea formControlName="comment" rows="3" placeholder="Write an answer..."
                    class="border p-2 rounded w-full"></textarea>
                <p class="text-gray-700 text-xs italic" *ngIf="comment.hasError('minlength')">
                    The post needs to be at least {{comment.errors!.minlength.requiredLength}} characters long.
                </p>


            </div>
            <div class="flex justify-between mx-3">
                <div>
                    <button [disabled]="commentForm.invalid"
                        class=" disabled:opacity-50 px-4 py-1 bg-green-800 text-white rounded font-light hover:bg-fancyBlack">
                        Submit
                    </button>
                </div>
            </div>
        </form>
    </div>

    <div *ngFor="let commentData of comments">
        <div class="pt-2 border-2 p-5 border-green-100 bg-green-100">
            <div class="flex items-center text-xs mb-2">

                <div class="
                    m-1
                    mr-2
                    w-12
                    h-12
                    relative
                    flex
                    justify-center
                    items-center
                    rounded-full
                    bg-gray-500
                    text-xl text-white
                    uppercase
                ">
                    {{commentData.username[0]}}
                </div>
                <a href="#" class="text-green-400 text-base mx-1 no-underline hover:underline">{{ commentData.username
                    }}
                </a>
            </div>
            <div>
                <h3 class="font-medium mb-1 text-fancyBlack">
                    {{ commentData.desc }}
                </h3>
                <h4 class="text-gray-600 text-xs">{{commentData.created_at}}</h4>
            </div>
        </div>
    </div>

</div>